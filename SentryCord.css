/**
 * @name SentryCord
 * @author Sentry
 * @version 1.01
 * @description A fluent mica Discord theme inspired by Apple's MacOS.
**/

/* ========================================
   IMPORTS
   ======================================== */
@import url('https://discord-extensions.github.io/macos-titlebar/src/source.css');
@import url(https://mwittrien.github.io/BetterDiscordAddons/Themes/EmojiReplace/base/Apple.css);
@import url("https://discord-mica.pages.dev/src/main.css");
@import url("https://raw.githubusercontent.com/acheronx0577/Transparent-Activity-Discord/refs/heads/main/Transparent%20Activity%20Discord.css");
@import url("https://raw.githubusercontent.com/acheronx0577/Better-Compact-Command-Menu-With-Smooth-Transition/refs/heads/main/Better%20Compact%20Command%20Menu%20With%20Smooth%20Transition.css");
@import url('https://raw.githubusercontent.com/acheronx0577/Transparent-Quick-Switcher-Discord/main/Transparent%20Quick%20Switcher.css');
@import url("https://raw.githubusercontent.com/Augenbl1ck/Discord-Styles/refs/heads/main/customStatusBubble.css");
@import url("https://raw.githubusercontent.com/sadan4/discordStyles/refs/heads/main/src/qol/folderScrollBar.css");

/* Import SF Pro from cdnfonts.com */
@import url('https://fonts.cdnfonts.com/css/sf-pro-display');

/* ========================================
   ROOT VARIABLES & THEME CONFIGURATION
   ======================================== */
:root {
  /* Custom Status Variables */
  --add-custom-status-text: "Add custom status";
  --add-custom-status-text-margin: 4px;
  --add-custom-status-hide: block;

  /* Dark Mode Colors */
  --dark-bg: transparent;
  --dark-flyout: rgba(30,30,30);
  --dark-accent: rgb(76, 194, 255);
  --dark-accent-hovered: rgb(65, 163, 214);
  --dark-accent-font-color: black;
  --dark-button: rgb(45,45,45);
  --dark-button-border: rgb(60, 60, 60);
  --dark-button-font-color: white;
  --dark-background-accent: rgba(50,50,50,0.9);
  --dark-status-panel: rgba(30,30,30,0.4);

  /* Light Mode Colors */
  --light-bg: transparent;
  --light-flyout: rgb(255, 255, 255);
  --light-accent: rgb(0, 120, 212);
  --light-accent-hovered: rgb(0, 94, 167);
  --light-accent-font-color: white;
  --light-button: rgb(251,251,251);
  --light-button-border: rgb(204, 204, 231);
  --light-button-font-color: black;
  --light-background-accent: rgba(160,160,160,0.9);
  --light-status-panel: rgba(255,255,255,0.4);

  /* Titlebar Configuration */
  --custom-app-top-bar-height: 22px;
  --title-bar-icon: flex;
}

/* ========================================
   GLOBAL FONT STYLING
   ======================================== */
* {
    font-family: 'SF Pro Display', 'SF Pro Text', 'SF Pro', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
}

/* ========================================
   GUILD/SERVER LIST SPACING
   ======================================== */

/* Reduce space between servers and main content */
.base_a4d4d9 {
    grid-template-columns: 48px auto !important;
}

.sidebar_a4d4d9 {
    width: 48px !important;
}

/* Reduce space between servers and divider */
.wrapper_a7e7a5 {
    width: 48px !important;
    padding: 0 !important;
}

.scroller_a7e7a5 {
    padding: 8px 0 !important;
}

.listItem__48528 {
    margin: 0 0 2px 0 !important;
    width: 48px !important;
}

.pill_d49aa4 {
    left: -4px !important;
    width: 4px !important;
}

.guilds_a7e7a5 {
    width: 48px !important;
    padding: 0 !important;
}

/* Make server icons more compact */
.wrapper_d281dd {
    width: 36px !important;
    height: 36px !important;
    margin: 0 6px !important;
}

.svg_d281dd, .acronym_d281dd {
    width: 36px !important;
    height: 36px !important;
}

/* Make folders more compact - MORE SPECIFIC TARGETING */
.folder__17546 {
    width: 36px !important;
    height: 36px !important;
    margin: 0 6px !important;
}

.folderIconWrapper_bc7085,
.closedFolderIconWrapper_bc7085,
.folder__17546 .folderIconWrapper_bc7085,
.folder__17546 .closedFolderIconWrapper_bc7085 {
    width: 36px !important;
    height: 36px !important;
    min-width: 36px !important;
    min-height: 36px !important;
    max-width: 36px !important;
    max-height: 36px !important;
}

/* Target the actual folder icon SVG */
.folder__17546 svg,
.folderIconWrapper_bc7085 svg,
.closedFolderIconWrapper_bc7085 svg {
    width: 36px !important;
    height: 36px !important;
}

/* Make sure folder wrapper matches */
.listItem__48528:has(.folder__17546) {
    width: 48px !important;
}

/* ========================================
   REMOVE WEIRD HIGHLIGHT BOX (SIMPLIFIED)
   ======================================== */

/* Just ignore the brown box for now - focus on functionality */
::selection {
    background: rgba(255, 255, 255, 0.1) !important;
}

::-moz-selection {
    background: rgba(255, 255, 255, 0.1) !important;
}

/* ========================================
   COMPACT TITLEBAR
   ======================================== */

/* Slightly bigger but still compact titlebar */
.typeWindows_a934d8 {
    height: 22px !important;
    padding: 0 !important;
    margin: 0 !important;
}

.winButton_a934d8 {
    width: 32px !important;
    height: 22px !important;
    margin: 0 !important;
    padding: 0 !important;
}

.winButtonClose_a934d8 {
    width: 32px !important;
    height: 22px !important;
}

/* Compact drag region */
.titleBar_a934d8 {
    height: 22px !important;
    padding: 0 !important;
    margin: 0 !important;
}

/* ========================================
   NITRO/SHOP ELEMENT HIDING
   ======================================== */
a[data-list-item-id*="nitro"],
a[data-list-item-id*="shop"] {
    display: none !important;
}

/* ========================================
   SIDEBAR & NAVIGATION
   ======================================== */

/* Outer sidebar container */
.sidebarList_c48ade,
.sidebarListRounded_c48ade {
    border-radius: 0 !important;
}

/* Search bar container */
.searchBar__35e86 {
    background-color: rgba(0, 0, 0, 0.205) !important;
    box-shadow: none !important;
}

/* Search button in sidebar */
.searchBar__35e86 .button__201d5 {
    background: linear-gradient(
        to right,
        rgba(87, 45, 133, 0.3) 0%,
        rgba(45, 52, 139, 0.5) 50%,
        rgba(87, 45, 133, 0.3) 100%
    ) !important;    
    transition: all 0.2s ease !important;
    border-radius: 7px !important;
}

/* Search button hover effect */
.searchBar__35e86 .button__201d5:hover {
    background: linear-gradient(
        to right,
        rgba(87, 45, 133, 0.6) 0%,
        rgba(45, 52, 139, 0.8) 50%,
        rgba(87, 45, 133, 0.6) 100%
    ) !important;
    color: rgb(255, 255, 255) !important;
    transform: translateY(-0.5px) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2) !important;
}

/* Button contents */
.contents__201d5 {
    background-color: transparent !important;
}

/* Visual refresh nav adjustments */
.visual-refresh nav[class*=guilds_] {
    margin-bottom: unset;
}

.visual-refresh div[class^="sidebar_"] section[class^="panels_"] {
    width: calc(var(--custom-guild-sidebar-width) - var(--custom-guild-list-width) + 1px);
    left: var(--custom-guild-list-width);
    bottom: 0px;
    border-radius: 0px;
    border: none;
}

/* ========================================
   COMPACT CHANNEL LIST
   ======================================== */

/* Hover voice channel */
.draggable__55bab:hover {
    background-color: rgb(106, 85, 85);
}

/* Unread indicator */
.unread__2ea32 {
    width: 5px;
    height: 4px;
    border-radius: 50%;
    left: auto;
    right: 4px;
    top: 16px;
}

/* Selected channel */
.modeSelected__2ea32 .link__2ea32 {
    background-color: rgb(92, 52, 52);
}

/* Channel links */
.link__2ea32 {
    padding: 0px 10px 4px 10px;
    border-radius: 0px !important;
    
    &::before {
        width: 1px;
        height: 0px;
        left: 10px;
        background-color: rgba(255, 255, 255, 0.3);
    }
    
    &:hover {
        background-color: rgb(122, 90, 90) !important;
    }
    
    .icon__2ea32 {
        scale: 0.8;
        margin-top: 2px;
    }
    
    .linkTop__2ea32 {
        gap: 3px;
    }
}

/* Channel wrapper */
.wrapper__2ea32 {
    margin: -1px;
}

/* Channel names */
.name__2ea32,
.overflow__82b15 {
    font-size: 16px;
    font-weight: 500;
    height: 20px;
    margin: 1px 0 -4px 0;
    line-height: 1.0;
}

/* Category wrapper */
.wrapper__29444 {
    padding: var(--space-xxs) 6px var(--space-xxs) var(--space-xs);
    box-sizing: content-box;
    margin-top: -10px;
    
    .mainContent__29444 {
        flex-direction: row-reverse !important;
        flex: none !important;
        gap: 6px;
    }
    
    .icon__29444 {
        scale: 1.5;
        margin-top: 3px;
    }
}

/* Channel spine elements */
.spine__5b40b {
    display: none !important;
}

.spineBorder__5b40b {
    left: 7px;
    width: 1px;
    background: rgba(255, 255, 255, 0.3) !important;
    height: 0%;
}

/* Thread channels */
.typeThread__2ea32 {
    margin-left: 10px !important;
    
    .link__2ea32 {
        padding-left: 20px !important;
    }
}

/* ========================================
   MEMBER LIST
   ======================================== */

/* Member items */
.member__5d473 {
    height: 32px !important;
    padding: var(--space-xxs) var(--space-xs);
    margin: calc(var(--space-xxs) / 2) var(--space-xxs);
    
    &:hover {
        background: var(--bg-overlay-hover, var(--background-modifier-hover));
    }
}

/* Member inner content */
.memberInner__5d473, 
.childContainer__91a9d {
    padding: 0px !important;
    display: flex !important;
    align-items: center !important;
    align-content: center !important;
    max-width: 100%;
}

/* Member avatar */
.avatar__91a9d {
    scale: 0.75;
    margin-right: 4px;
}

/* Member content */
.content__91a9d {
    display: flex;
    align-items: center;
    align-content: center;
    gap: 8px;
}

/* Member inner positioning */
.memberInner__5d473 {
    position: absolute;
    top: calc(0px - var(--space-xxs) / 3);
    left: var(--space-xxs);
    max-width: calc(100% - var(--space-sm));
}

/* Members group */
.membersGroup_c8ffbb {
    padding: var(--space-xs) var(--space-xxs) var(--space-xs) var(--space-sm) !important;
}

/* ========================================
   MESSAGES & CHAT
   ======================================== */

/* Message hover animation */
[data-list-item-id*="message"],
[class*="messageListItem"],
[id*="message-"],
li[class*="messageListItem"] {
    position: relative;
    border-radius: var(--wave-border-radius);
    transition: all 0.3s ease;
}

[data-list-item-id*="message"]:hover,
[class*="messageListItem"]:hover,
li[class*="messageListItem"]:hover {
    transform: translateX(6px);
}

/* Message action buttons */
.actionButton_f8fa06 {
    background-color: rgba(18, 36, 116, 0.349) !important;
    border: none !important;
    box-shadow: none !important;
    transition: background-color 0.3s, opacity 0.3s !important;
}

.actionButton_f8fa06:hover {
    background-color: rgb(32, 34, 136) !important;
    opacity: 0.7 !important;
}

/* ========================================
   CHAT INPUT AREA
   ======================================== */

/* Chat text area */
div[class*="channelTextArea"]:not([class*="popout"]):not([class*="modal"]),
form[class*="form"],
div[class*="textArea"]:not([class*="popout"]):not([class*="modal"]),
div[class*="channelTextArea"] [class*="attachButton"],
div[class*="channelTextArea"] [class*="emojiButton"],
div[class*="channelTextArea"] div[class*="scrollableContainer"],
div[class*="channelTextArea"] div[class*="innerContainer"] {
    background: transparent !important;
}

/* Text area colors */
div[class*="channelTextArea"] [class*="textArea"] {
    color: var(--text-normal) !important;
}

div[class*="channelTextArea"] [class*="placeholder"] {
    color: var(--text-muted) !important;
}

/* Button hover effects */
div[class*="channelTextArea"] button[class*="attachButton"]:hover,
div[class*="channelTextArea"] button[class*="emojiButton"]:hover {
    background-color: var(--background-modifier-hover) !important;
}

/* Visual refresh chat bar fix */
.visual-refresh .channelTextArea_f75fb0,
.visual-refresh .entryPointButtonContainer_f75fb0 {
    margin-bottom: 3px;
}

/* ========================================
   EMBEDS & CODE BLOCKS
   ======================================== */

/* Embed styling */
.embedFull__623de {
    overflow: hidden;

    &::before {
        top: -1px;
        content: "";
        position: absolute;
        border: inherit;
        border-left-width: 100vw;
        max-width: 100%;
        height: calc(100% + 2px);
        box-sizing: border-box !important;
        opacity: 0.25;
        z-index: 1;
        border-radius: 0px 8px 8px 0px;
    }

    .gridContainer__623de {
        z-index: 2;
    }
}

.withAccentColor__60fa3 {
    background: color-mix(in srgb, var(--background-surface-high), var(--__accent-color) 25%);
}

/* Transparent code blocks */
.nonVisualMediaItem_f4758a,  
.mosaicItem__6c706,  
.mosaicItemContent__6c706,  
.container__4d95d,  
.textContainer__4d95d,  
.scrollbarGhostHairline__506b3,  
.codeView__4d95d {  
    background-color: rgba(21, 28, 32, 0.212) !important;
    border-radius: 15px !important;
    border: none !important;
    user-select: text !important;
    pointer-events: auto !important;
}  

/* Transparent syntax highlighting */  
.hljs {  
    background: rgba(6, 4, 26, 0.432) !important;  
    user-select: text !important;
}

/* Transparent footer */  
.footer__4d95d {  
    background-color: rgba(21, 28, 32, 0.212) !important;  
    border: none !important;
}

/* ========================================
   MODALS & POPUPS
   ======================================== */

/* Modal background with glass effect */
.modal_ca6911 {
    background: rgba(88, 85, 138, 0.192) !important;
    backdrop-filter: blur(10px) !important;
    border: none !important;
    box-shadow: none !important;
}

/* Modal header */
.modal_ca6911 .header__49fc1 {
    background: transparent !important;
    border-bottom: none !important;
}

/* Modal content */
.modal_ca6911 .content__49fc1 {
    background: transparent !important;
}

/* Modal scrollbar */
.modal_ca6911 .scrollerBase_d125d2::-webkit-scrollbar {
    width: 6px;
}

.modal_ca6911 .scrollerBase_d125d2::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 3px;
}

.modal_ca6911 .scrollerBase_d125d2::-webkit-scrollbar-track {
    background: transparent;
}

/* Layer background */
.layer__960e4 {
    background-color: rgba(0, 0, 0, 0.5) !important;
}

.baseLayer__960e4 {
    opacity: 1 !important;
    transform: scale(1) !important;
}

/* ========================================
   CONTEXT MENUS
   ======================================== */

/* Reduce context menu padding */
.layer_da8173 > .menu_c1e9c4 {
    min-width: 0;
    width: 171px !important;
    
    .scroller_c1e9c4 {
        margin: -4px;
    }
    
    .separator_c1e9c4 {
        margin: 1px 8px !important;
    }
    
    .wrapper_f563df {
        padding: 0px !important;
        margin: 1px;
    }
    
    .item_c1e9c4 {
        min-height: 0;
        padding: 4px 8px;
    }
    
    .icon_f563df {
        width: 18px;
    }
    
    .button_f563df {
        width: 36px;
        height: 36px;
        border-radius: 4px;
    }
    
    .icon_c1e9c4 {
        width: 18px;
        height: 18px;
    }
    
    .iconContainer_c1e9c4 {
        display: flex;
        justify-content: center;
        align-items: center;
    }
}

/* ========================================
   SETTINGS MODAL
   ======================================== */

/* Settings modal styling */
.standardSidebarView__23e6b {
    position: absolute;
    width: 60vw;
    max-width: 60vw !important;
    height: 75vh;
    justify-self: center;
    align-self: center;
    display: flex;
    border-radius: 10px;
    overflow: hidden;
    border: rgba(255, 255, 255, 0.1) 1px solid;
    background-color: rgba(30, 30, 30, 0.5) !important;
    backdrop-filter: blur(10px) !important;
}

/* Settings content region */
.standardSidebarView__23e6b .contentRegion__23e6b {
    width: calc(60vw - 270px);
    display: block;
    flex: none;
    background-color: transparent !important;
}

/* Settings tools container */
.standardSidebarView__23e6b .toolsContainer__23e6b {
    margin: 0;
    position: absolute;
    right: 0px;
    top: 0;
    flex: none;
    background-color: transparent !important;
    padding: 0px;
    height: 46px;
    width: 100%;
    box-shadow: var(--elevation-low);
}

/* Settings tools */
.standardSidebarView__23e6b .tools__23e6b {
    position: absolute;
    top: 10px;
    right: 20px;
    z-index: 5000;
}

/* Close button */
.standardSidebarView__23e6b .closeButton_c2b141 {
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.1);
    color: white;
    height: 25px !important;
    width: 25px !important;
    border: none;
    flex: none;
}

.standardSidebarView__23e6b .closeButton_c2b141 > svg {
    margin: 9px 0px 0px 9px;
    width: 18px !important;
    height: 18px !important;
    overflow: visible;
}

.standardSidebarView__23e6b .closeButton_c2b141 > svg > path {
    margin-left: 20px;
    d: path("M0.00380648 0.00268555H1.50315H1.55C1.93069 0.0202563 2.31724 0.19596 2.5808 0.47123L6.00117 3.8916L9.4684 0.47123C9.86666 0.125678 10.1361 0.0143984 10.4992 0.00268555H11.9985V1.50203C11.9985 1.92957 11.9458 2.32784 11.6237 2.62653L8.20333 6.0469L11.5768 9.42042C11.858 9.70155 11.9985 10.0998 11.9985 10.4981V11.9974H10.4992C10.1009 11.9974 9.70267 11.8569 9.42154 11.5757L6.00117 8.15535L2.5808 11.5757C2.29967 11.8569 1.90141 11.9974 1.50315 11.9974H0.00380648V10.4981C0.00380648 10.0998 0.14437 9.70155 0.425496 9.42042L3.84587 6.0469L0.425496 2.62653C0.109228 2.33369 -0.0313351 1.92372 0.00380648 1.50203V0.00268555Z");
}

.standardSidebarView__23e6b .keybind_c2b141 {
    display: none;
}

/* Settings sidebar region */
.standardSidebarView__23e6b .sidebarRegion__23e6b {
    flex: none;
    background-color: transparent !important;
}

/* Settings sidebar */
.standardSidebarView__23e6b .sidebar__23e6b {
    width: 270px;
    padding: 0;
    overflow: visible !important;
    background-color: transparent !important;
}

.standardSidebarView__23e6b .sidebar__23e6b::before {
    content: "Settings";
    font-size: 16px;
    font-weight: 600;
    z-index: 100;
    height: 46px;
    align-content: center;
    text-align: center;
    width: 278px;
    position: fixed;
    pointer-events: none;
    background-color: transparent !important;
    box-shadow: var(--elevation-low);
    color: white;
}

.standardSidebarView__23e6b .side_b3f026 {
    overflow: visible !important;
    padding: 60px 8px 60px 16px;
}

/* ========================================
   STREAMING & VIDEO
   ======================================== */

/* Resize Handle */
.resizeHandle__01ae2 {
    background: rgba(0, 0, 0, 0.664);
}

/* Stream Container */
.container__01ae2,
.container__f75fb0 {
    border-radius: 0 !important;
    overflow: hidden;
}

/* Video Container */
.container__9293f {
    background-color: rgba(0, 0, 0, 0.24) !important;
    box-shadow: none !important;
}

/* Chat Box */
.chat_f75fb0 {
    border-radius: 0 !important;
}

/* Toolbar Gradient */
div.children__9293f.showToolbar__9293f::after {
    background: transparent !important;
}

/* Topic Text */
.topic__6ec1a span,
.topic__6ec1a {
    color: #ffffffc7 !important;          
}

/* ========================================
   GIF PICKER
   ======================================== */

/* Full sized gif picker */
[class*='layerContainer_'] [class*='positionLayer__'] {
    height: 100% !important;
}

[class*='layerContainer_'] [class*='positionLayer__'] [class*='drawerSizingWrapper__'] {
    top: 3.5em !important;
    height: calc(100% - 9em);
}

/* ========================================
   LAYOUT & STRUCTURAL
   ======================================== */

/* Base layout adjustments */
[class*='base_'] > [class*='content_'] {
    margin: 0 10px 10px 0;
}

[class*='base_'] > [class*='content_'] [class*='page_'] {
    border: 1px solid var(--app-border-frame);
    border-left: none;
    border-radius: 0 var(--radius-md) var(--radius-md) 0;
}

[class*='base_'] > [class*='content_'] [class*='sidebar_']::after {
    display: none;
}

[class*='base_'] > [class*='content_'] [class*='sidebar_'] [class*='sidebarList_'] {
    border-bottom: 1px solid var(--app-border-frame);
    border-bottom-left-radius: var(--radius-md);
}

[class*='base_'] > [class*='content_'] [class*='chat_'], 
[class*='base_'] > [class*='content_'] [class*='callContainer_cb9592'] {
    border: none !important;
}

/* ========================================
   LOADING SCREEN
   ======================================== */

/* Custom loading animation */
.content_a2f514 {
    display: flex;
    flex-direction: column;
}

.content_a2f514 > .spinner_a2f514 { 
    display: none;
}

.content_a2f514:before {
    display: block;
    height: 128px;
    position: relative;
    content: url(https://raw.githubusercontent.com/Vencord/Vesktop/refs/heads/main/static/shiggy.gif);
    image-rendering: pixelated;
    align-content: center;
    scale: 3.125;
    margin-bottom: 96px;
}

/* ========================================
   ROLES & PILLS
   ======================================== */

/* Role pills */
.role_dfa8b6.pill_dfa8b6 {
    position: relative;
    background: none;
    border: none;
    padding-left: 28px;
}

.role_dfa8b6.pill_dfa8b6 > span {
    z-index: 1;
}

.role_dfa8b6.pill_dfa8b6 .roleRemoveButton_dfa8b6 {
    position: absolute;
    top: 0px;
    left: 0px;
    right: 0px;
    bottom: 0px;
    margin: 0 !important;
}

.role_dfa8b6.pill_dfa8b6 .roleCircle__4f569 {
    margin: 6px 8px;
}

.role_dfa8b6.pill_dfa8b6 .roleCircle__4f569::before {
    content: '';
    display: block;
    position: absolute;
    background-color: inherit;
    top: 0px;
    left: 0px;
    right: 0px;
    bottom: 0px;
    border-radius: var(--radius-xs);
    filter: brightness(1.1);
    opacity: 0.25;
}

/* ========================================
   AVATAR MODIFICATIONS
   ======================================== */

/* Remove colored borders and glows from avatars */
.avatar_d3a39b,
.avatar__91a9d,
.avatar_edb6e0,
.avatar__1f855,
.wrapper_edb6e0,
.avatarWrapper_b4c554 {
    background: black !important;
    border-color: black !important;
    filter: none !important;
    box-shadow: none !important;
}

/* Avatar SVG fallback */
.avatar_edb6e0 > svg,
.avatar__1f855 > svg {
    fill: black !important;
}

/* ========================================
   MISCELLANEOUS
   ======================================== */

/* Link styling */
.anchor_edefb8 {
    color: #00b0f4 !important;
}
